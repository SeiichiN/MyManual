インターネット概論

/****************************************
コンピューターはどのようにしてお互いを知るのか？
****************************************/

コンピューターはお互いをどのようにして知っているのでしょうか？
コンピューターはIPアドレスという数字でお互いを認識しています。

IPアドレスは、8ビットを4つ組み合わせて作られています。つまり、4バイトです。

11000000 . 10101000 . 00001010 . 00100011

   C   0 .    A   8 .    0   A .    2   3

     192 .      168 .       10 .       35

これは IPv4アドレス と言われていて、インターネットが作られた最初から使われていたものです。しかし、近年ではIPv4アドレスでは足りなくなってきて、IPv6アドレスが使われるようになってきています。

IPアドレスは Windows のコマンドプロンプトで調べることができます。

> ipconfig <Enter>

<Enter>は「Enterキー」を押下することです。

以下のような表示になります。

IPv4アドレス： 192.168.10.35  （35という数字は機械によって違う）
デフォルト・ゲートウェイ： 192.168.10.1
ネットマスク： 255.255.255.0

ここで使われているIPアドレスは、プライベート・IPアドレスと言われるものです。
これについては、次の章で説明します。

デフォルト・ゲートウェイとは、インターネット（外部）に出ていくのに、192.168.10.1というIPアドレスをもつ機械を通るという意味です。

ネットマスクというのは、このプライベート・IPアドレスが、どのレベルのプライベートアドレスなのかを説明しています。

これらは全て、次の章で説明します。

注：IPアドレスが設定されているのは、コンピュータに対してではなく、実際は、ネットワーク・デバイスに対してです。
つまり、ひとつのコンピュータに2つ以上のネットワーク・デバイスを組み込むことができるのです。その場合、そのコンピュータは、2つ以上のネットワークに接続していることになり、そのコンピュータが中継機となります。


/****************************************
インターネットとIPアドレス
****************************************/

全世界のコンピュータは、IPアドレスによってお互いを知っています。ですから、IPアドレスに重複があってはなりません。IPにアドレスは国際的な取り決めによって管理されています。このようなIPアドレスを「グローバルIPアドレス」といいます。

全世界のコンピュータは、IPアドレスによってお互いを知っています。しかし、IPアドレスは数に限りがあるので、近くにあるコンピュータをひとまとまりにして、そのコンピュータのまとまりに対して1つのIPアドレスをわりあてれば非常に能率がよくなります。

ただ、そのひとまとまりのコンピュータにもIPアドレスを割り当てないと、お互いが通信できなくなります。そこで、インターネットに触接つながっているIPアドレスを「グローバルIPアドレス」とし、ひとまとまりの中のIPアドレスを「プライベートIPアドレス」としたのです。

プライベートIPアドレスは、そのひとまとまりの大きさ（コンピュータの数）に応じて、
クラスA
クラスB
クラスC
の3種類にわけられています。

プライベートIPアドレスは、たとえば、クラスCなら、先頭2バイトは、「192.168」にするように国際的に決められています。3番目の1ﾊﾞｲﾄは、そのグループで任意に決めることができます。4番めの1バイトは、個々のコンピュータに割り当てることになります。

プライベートIPアドレスは、インターネット空間に出ていくことはないので、他のグループとの重複を気にすることなく設定することができます。

個々のコンピュータにプライベートIPアドレスを設定するには、手作業で設定することが可能ですが、自動的に設定されるようにしておいたほうが便利です。これは、そのプライベートネットワーク（ローカルエリアネットワーク）に1台「DHCPサーバ」を設置して、個々のコンピュータが起動すればDHCPサーバがそのコンピュータに対して適当なIPアドレスを割り振るようにするのです。各家庭のネットワークはたいていこの設定になってます。コンピュータをネットワークに接続するのが簡単になるからです。

ただし、自由にコンピュータをネットワークに接続させたくない場合もあります。その場合は、そのネットワークの管理者が個々のコンピュータにIPアドレスを割り振ることになります。各ユーザが勝手にそのネットワークに接続することはできません。

このように、ローカルエリアネットワークに属している個々のコンピュータは、デフォルト・ゲートウェイを通ってインターネットに接続し、そのとき、グローバルIPアドレスというIPアドレスとして出ていくことになります。

/****************************************
IPアドレスと名前解決
****************************************/

さて、コンピュータ同士はIPアドレスによってお互いを知り合うのですが、これは人間にとってはわかりにくいものです。このIPアドレスを人間にわかりやすくしたものが「ドメイン」名、それと、「ホスト」名です。

たとえば、グーグルのトップページは、「https://www.google.co.jp」ですが、これをIPアドレスで表現すると、「216.58.196.227」です。人間は、ほかのコンピュータを知るには、この「ドメイン名（ホスト名）」のほうがわかりやすいですね。

先頭の「https://」は、あとに続く文字列が何を伝えようとしているのかを示しています。
「https」の他、「http」「ftp」「git」などがあります。

「www」は、ホスト名です。Webサーバーが動いているコンピュータには、wwwというホスト名がつけられることが多いです。
第4レベルドメインとも言われます。省略することが可能で、その場合は、「www」というホスト名だとみなされます。
「goole」は、グーグルがつけたドメイン名で、第3レベルドメインです。
「co」は、第2レベルドメインで、この場合「会社組織」を表現しています。
「jp」は、第1レベルドメインで、国を表しています。

ドメイン名は、さまざまな書き表し方が可能ですが、世界中で一意のものでなければなりません。

ですから、ドメイン名を管理認定している事業者がいます。日本にも22社あります。

人間は、コンピュータを操作しながら、このドメイン名で他のコンピュータと通信しようとします。

その人間が入力したドメイン名を、コンピュータが使っているIPアドレスに変換しなくてはなりません。これが「名前解決」と言われているもので、「DNSサーバー（ネームサーバー）」がその仕事をしています。

DNSサーバーは個人が設置することが可能です。各DNSサーバーは、自分の属する組織（ドメイン）からの問い合わせに対して、把握しているものであれば回答し、把握していないものであれば、上位のDNSサーバーに問い合わせます。上位のDNSサーバーも同様に処理をします。
DNSサーバーは、インターネットを支えている根幹の部分なので、DNSサーバーがトラブルによって故障すると大変です。したがって、どの組織も最低2台は運用しています。1台がストップしても、もう1台につねにバックアップされているから、それで運用できるわけです。
一番上位のDNSサーバーを「ルートサーバー」といい、全世界で13組設置されています。アメリカ・10、ロンドン・1、ストックホルム・1、東京・1、です。

ドメインネームからIPアドレスを問い合わせるには、Windowsのコマンドプロンプトでは、以下のようにします。

> nslookup www.google.co.jp <Enter>
Name:   www.google.co.jp
Address: 216.58.196.227

